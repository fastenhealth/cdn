{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app.module.ts","./src/app/components/brand-search/brand-search.component.ts","./src/app/components/brand-search/brand-search.component.html","./src/app/components/form-request-health-system/form-request-health-system.component.ts","./src/app/components/form-request-health-system/form-request-health-system.component.html","./src/app/components/form-support-request/form-support-request.component.ts","./src/app/components/form-support-request/form-support-request.component.html","./src/app/components/portal-connect/portal-connect.component.ts","./src/app/components/portal-connect/portal-connect.component.html","./src/app/constants.ts","./src/app/directives/image-fallback.directive.ts","./src/app/fasten-stitch/fasten-stitch.component.ts","./src/app/fasten-stitch/fasten-stitch.component.html","./src/app/models/forms/form-request-health-system.ts","./src/app/models/search-filter.ts","./src/app/router/nav-outlet/nav-outlet.component.ts","./src/app/router/nav-outlet/nav-outlet.component.html","./src/app/router/nav-outlet/nav-outlet.directive.ts","./src/app/services/connect.service.ts","./src/app/services/message-bus.service.ts","./src/app/utils/connect-helper.ts","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["import { NgModule, Injector } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport {FormsModule} from '@angular/forms';\nimport { createCustomElement } from '@angular/elements';\n\nimport { FastenStitchComponent } from './fasten-stitch/fasten-stitch.component';\nimport {CommonModule} from '@angular/common';\nimport {HttpClientModule} from '@angular/common/http';\nimport { BrandSearchComponent } from './components/brand-search/brand-search.component';\nimport { PortalConnectComponent } from './components/portal-connect/portal-connect.component';\nimport { ImageFallbackDirective } from './directives/image-fallback.directive';\nimport {InfiniteScrollModule} from 'ngx-infinite-scroll';\nimport { NavOutletComponent } from './router/nav-outlet/nav-outlet.component';\nimport {NavOutletDirective} from './router/nav-outlet/nav-outlet.directive';\nimport { FormRequestHealthSystemComponent } from './components/form-request-health-system/form-request-health-system.component';\nimport { FormSupportRequestComponent } from './components/form-support-request/form-support-request.component';\n\n@NgModule({\n  declarations: [\n    FastenStitchComponent,\n    BrandSearchComponent,\n    PortalConnectComponent,\n    ImageFallbackDirective,\n    NavOutletComponent,\n    NavOutletDirective,\n    FormRequestHealthSystemComponent,\n    FormSupportRequestComponent,\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpClientModule,\n    CommonModule,\n    InfiniteScrollModule,\n  ],\n  providers: [],\n  entryComponents: [FastenStitchComponent]\n})\nexport class AppModule {\n  constructor(injector: Injector) {\n    const el = createCustomElement(FastenStitchComponent, { injector });\n    customElements.define('fasten-stitch', el);\n  }\n\n  ngDoBootstrap() {}\n}\n","import {ChangeDetectorRef, Component, Input, OnInit} from '@angular/core';\nimport {SearchFilter} from '../../models/search-filter';\nimport {\n  LighthouseBrandListDisplayItem,\n  LighthouseSourceSearch,\n  LighthouseSourceSearchAggregation\n} from '../../models/lighthouse/lighthouse-source-search';\nimport {SourceListItem} from '../../fasten-stitch/fasten-stitch.component';\nimport {Observable, of} from 'rxjs';\nimport {ApiMode, ComponentNavPage} from '../../constants';\nimport {MessageBusService} from '../../services/message-bus.service';\nimport {ConnectService} from '../../services/connect.service';\nimport {ComponentNavigationEvent} from '../../models/component-navigation-event';\n\n@Component({\n  selector: 'app-brand-search',\n  templateUrl: './brand-search.component.html',\n  styleUrls: ['./../../fasten-stitch/fasten-stitch.component.css'],\n  // encapsulation: ViewEncapsulation.Emulated\n\n})\nexport class BrandSearchComponent implements OnInit {\n  @Input() apiMode: ApiMode = ApiMode.Test;\n\n  loading = false;\n\n  lighthouseBrandList: SourceListItem[] = []\n\n  filter: SearchFilter = new SearchFilter()\n\n  //limits that are tied to the current result set.\n  resultLimits: {\n    totalItems: number,\n    scrollComplete: boolean,\n    platformTypesBuckets: LighthouseSourceSearchAggregation | undefined,\n    categoryBuckets: LighthouseSourceSearchAggregation | undefined,\n  } = {\n    totalItems: 0,\n    scrollComplete: false,\n    platformTypesBuckets: undefined,\n    categoryBuckets: undefined\n  }\n\n  constructor(\n    public changeRef: ChangeDetectorRef,\n    public connectApi: ConnectService,\n    public messageBus: MessageBusService\n  ) { }\n\n  ngOnInit(): void {\n    this.querySources(true)\n  }\n\n  markForCheck(){\n    this.changeRef.markForCheck()\n  }\n\n  public querySources(reset: boolean): Observable<LighthouseSourceSearch|null> {\n    if(reset){\n      this.resetSearch()\n    }\n\n    console.log(\"querySources()\", this.filter)\n    if(this.loading){\n      console.log(\"already loading, ignoring querySources()\")\n      return of(null)\n    }\n    //TODO: pass filter to function.\n    // this.location.replaceState('/dashboard','', this.filter)\n\n    if(!this.filter){\n      this.filter = new SearchFilter()\n      console.log(\"querySources() - no filter provided, using current form value\", this.filter)\n    }\n\n\n    this.filter.fields = [\"*\"];\n    this.loading = true\n    var searchObservable = this.connectApi.searchCatalogBrands(this.apiMode, this.filter);\n    searchObservable.subscribe(wrapper => {\n        console.log(\"search sources\", wrapper);\n        // this.searchResults = wrapper.hits.hits;\n        this.resultLimits.totalItems = wrapper.hits.total.value;\n\n        this.lighthouseBrandList = this.lighthouseBrandList.concat(wrapper.hits.hits.map((result) => {\n          return {\n            brand: result._source,\n            searchHighlights: result?.highlight?.aliases || []\n          }\n        }))\n\n        //check if scroll is complete.\n        if(!wrapper?.hits || !wrapper?.hits?.hits || wrapper?.hits?.hits?.length == 0 || wrapper?.hits?.total?.value == wrapper?.hits?.hits?.length){\n          console.log(\"SCROLL_COMPLETE!@@@@@@@@\")\n          this.resultLimits.scrollComplete = true;\n        } else {\n          //change the current Page (but don't cause a new query)\n          console.log(\"SETTING NEXT SORT KEY:\", wrapper.hits.hits[wrapper.hits.hits.length - 1].sort.join(','))\n          this.filter.searchAfter = wrapper.hits.hits[wrapper.hits.hits.length - 1].sort.join(\",\")\n        }\n        this.loading = false\n      },\n      error => {\n        this.loading = false\n        console.error(\"sources FAILED\", error)\n      },\n      () => {\n        this.loading = false\n        console.log(\"sources finished\")\n      }\n    );\n    return searchObservable;\n  }\n\n  public selectBrand(brandItem: LighthouseBrandListDisplayItem){\n    this.messageBus.componentNavigationSubject.next({\n      page: ComponentNavPage.PortalConnect,\n      title: brandItem.name,\n      data: brandItem,\n    } as ComponentNavigationEvent)\n  }\n\n  private resetSearch(){\n    console.log(\"reset search...\")\n    this.lighthouseBrandList = []\n    this.filter.searchAfter = []\n    this.resultLimits = {\n      totalItems: 0,\n      scrollComplete: false,\n      platformTypesBuckets: undefined,\n      categoryBuckets: undefined\n    }\n  }\n\n  onScroll() {\n    if(!this.resultLimits.scrollComplete) {\n      this.querySources(false)\n    }\n  }\n\n  showRequestHealthSystem(event){\n    this.messageBus.componentNavigationSubject.next({\n      page: ComponentNavPage.FormRequestHealthSystem,\n      title: 'Request your Health System',\n      data: this.filter?.query,\n    } as ComponentNavigationEvent)\n  }\n\n}\n","<form action=\"#\">\n  <div class=\"grid gap-4 mb-4 sm:grid-cols-2\">\n    <div class=\"sm:col-span-2\">\n      <input type=\"text\"\n             name=\"name\"\n             id=\"name\"\n             [(ngModel)]=\"filter.query\"\n             class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\"\n             placeholder=\"Ex. HCA Healthcare, Ascension, Common Spirit, Trinity, LifePoint Health\"\n             (keyup)=\"querySources(true)\"\n      >\n    </div>\n\n    <div class=\"sm:col-span-2\">\n\n      <div class=\"hidden flex items-center justify-between mb-4\">\n        <h5 class=\"leading-none text-gray-900 dark:text-white\">Popular</h5>\n        <a href=\"#\" class=\"text-sm font-medium text-blue-600 hover:underline dark:text-blue-500\">\n          View all\n        </a>\n      </div>\n      <div class=\"flow-root\">\n        <div *ngIf=\"!loading && lighthouseBrandList.length == 0\" class=\"flex items-center p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400\" role=\"alert\">\n          <svg class=\"flex-shrink-0 inline w-4 h-4 me-3\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n            <path d=\"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z\"/>\n          </svg>\n          <span class=\"sr-only\">Info</span>\n          <div>\n            <span class=\"font-medium\">No results!</span> Try another search term or <a (click)=\"showRequestHealthSystem($event)\" class=\"underline cursor-pointer font-medium\">request this Health System</a>.\n          </div>\n        </div>\n\n        <ul\n          infiniteScroll\n          [infiniteScrollDistance]=\"2\"\n          [infiniteScrollThrottle]=\"50\"\n          [scrollWindow]=\"false\"\n          (scrolled)=\"onScroll()\"\n          role=\"list\" class=\"divide-y divide-gray-200 dark:divide-gray-700 min-h-80 max-h-80 overflow-auto\">\n          <li *ngFor=\"let brand of lighthouseBrandList\" class=\"py-3 sm:py-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white hover:cursor-pointer\">\n            <div (click)=\"selectBrand(brand.brand)\" class=\"flex items-center\">\n              <div class=\"flex-shrink-0\">\n                <img class=\"w-10 max-h-8\" imageFallback src=\"https://cdn.fastenhealth.com/logos/sources/{{brand.brand.id}}.png\">\n              </div>\n              <div class=\"flex-1 min-w-0 ms-4\">\n                <p class=\"text-sm font-medium text-gray-900 truncate dark:text-white\">\n                  {{brand.brand.name}}\n                </p>\n                <p class=\"text-sm text-gray-500 truncate dark:text-gray-400\">\n                  {{brand.brand.brand_website}}\n                </p>\n              </div>\n              <span class=\"bg-blue-100 text-blue-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-300\">\n                {{brand.brand?.portals?.length}} {{brand.brand?.portals?.length == 1 ? 'portal' : 'portals'}}\n              </span>\n            </div>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  <div class=\"flex justify-end space-x-4\">\n    <p class=\"font-light text-xs\">Powered by <a class=\"underline\" target=\"_blank\" href=\"https://www.fastenhealth.com/connect\">Fasten Connect</a></p>\n  </div>\n</form>\n","import {ChangeDetectorRef, Component, Input, OnInit} from '@angular/core';\nimport {ConnectService} from '../../services/connect.service';\nimport {FormRequestHealthSystem} from '../../models/forms/form-request-health-system';\nimport {ApiMode, ComponentNavPage} from '../../constants';\nimport {Message} from 'postcss';\nimport {MessageBusService} from '../../services/message-bus.service';\nimport {ComponentNavigationEvent} from '../../models/component-navigation-event';\n\n@Component({\n  selector: 'app-form-request-health-system',\n  templateUrl: './form-request-health-system.component.html',\n  styleUrls: ['./../../fasten-stitch/fasten-stitch.component.css'],\n})\nexport class FormRequestHealthSystemComponent implements OnInit {\n  @Input() healthSystemName: string = \"\";\n\n\n  formRequestHealthSystem: FormRequestHealthSystem = null\n\n  loading: boolean = false\n  submitSuccess: boolean = false\n  errorMsg: string = \"\"\n\n  constructor(\n    public changeRef: ChangeDetectorRef,\n    private messageBus: MessageBusService,\n    private connectServiceApi: ConnectService,\n  ) { }\n\n  ngOnInit(): void {\n    this.resetForm()\n  }\n\n  markForCheck(){\n    this.changeRef.markForCheck()\n  }\n\n  resetForm() {\n    this.submitSuccess = false\n    let requestForm = new FormRequestHealthSystem()\n    requestForm.email = ''\n    requestForm.name = this.healthSystemName\n    requestForm.street_address = ''\n    requestForm.website = ''\n\n    this.formRequestHealthSystem = requestForm\n  }\n\n  submitForm() {\n    this.loading = true\n    this.connectServiceApi.requestHealthSystem(this.formRequestHealthSystem).subscribe((resp: any) => {\n        this.loading = false\n        this.submitSuccess = true\n        //show success toast? close modal?\n      },\n      (err)=>{\n        this.loading = false\n        console.error(\"an error occurred during request submission\",err)\n        this.errorMsg = err || \"An error occurred while submitting your request. Please try again later.\"\n      })\n  }\n\n  dismiss(){\n    this.messageBus.componentNavigationSubject.next({\n      page: ComponentNavPage.Search,\n    } as ComponentNavigationEvent)\n  }\n}\n","<form *ngIf=\"!submitSuccess; else requestSuccess\" (ngSubmit)=\"submitForm()\" #supportRequestForm=\"ngForm\">\n\n  <p>\n    Sharing your email address and related information helps us prioritize your Health System.\n  </p>\n\n  <div class=\"grid gap-4 mt-4 mb-4 sm:grid-cols-1\">\n    <div>\n      <label for=\"email\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">\n        Your email address<span class=\"text-red-600 dark:text-red-500\">*</span>\n      </label>\n      <input\n        type=\"text\" placeholder=\"my@emailaddress.com\"\n        [(ngModel)]=\"formRequestHealthSystem.email\" id=\"email\" name=\"email\" #email=\"ngModel\" required email\n        class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\"\n      >\n\n      <p *ngIf=\"email.invalid && (email.dirty || email.touched)\" class=\"mt-2 text-sm text-red-600 dark:text-red-500\">\n        <span *ngIf=\"email.errors?.['required']\">\n          Email is required.\n        </span>\n        <span *ngIf=\"email.errors?.['email']\">\n          Email must be valid.\n        </span>\n      </p>\n    </div>\n\n    <div>\n      <label for=\"name\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">\n        Health system name<span class=\"text-red-600 dark:text-red-500\">*</span>\n      </label>\n      <input\n        type=\"text\" placeholder=\"Ascension, Mayo Clinic\"\n        [(ngModel)]=\"formRequestHealthSystem.name\" id=\"name\" name=\"name\" #name=\"ngModel\" required minlength=\"4\"\n        class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\"\n      >\n\n      <p *ngIf=\"name.invalid && (name.dirty || name.touched)\" class=\"mt-2 text-sm text-red-600 dark:text-red-500\">\n        <span *ngIf=\"name.errors?.['required']\">\n          Health system name is required.\n        </span>\n        <span *ngIf=\"name.errors?.['minlength']\">\n          Health system name must be at least 4 characters long.\n        </span>\n      </p>\n    </div>\n\n    <div>\n      <label for=\"website\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">\n        Website<span class=\"text-red-600 dark:text-red-500\">*</span>\n      </label>\n      <input\n        type=\"text\"\n        [(ngModel)]=\"formRequestHealthSystem.website\" id=\"website\" name=\"website\" #website=\"ngModel\" required minlength=\"4\"\n        class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\"\n      >\n\n      <p *ngIf=\"website.invalid && (website.dirty || website.touched)\" class=\"mt-2 text-sm text-red-600 dark:text-red-500\">\n        <span *ngIf=\"website.errors?.['required']\">\n          Website is required.\n        </span>\n        <span *ngIf=\"website.errors?.['minlength']\">\n          Website must be at least 4 characters long.\n        </span>\n      </p>\n    </div>\n\n    <div>\n      <label for=\"street_address\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">\n        Street Address\n      </label>\n      <input\n        type=\"text\"\n        [(ngModel)]=\"formRequestHealthSystem.street_address\" id=\"street_address\" name=\"street_address\" #street_address=\"ngModel\"\n        class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\"\n      >\n    </div>\n\n    <p *ngIf=\"errorMsg\" class=\"mt-2 text-sm text-red-600 dark:text-red-500\">\n      <strong>Error</strong> {{errorMsg}}\n    </p>\n\n  </div>\n\n  <div class=\"flex items-center space-x-4\">\n    <button\n      [ngClass]=\"{'cursor-not-allowed': !supportRequestForm.form.valid || loading}\"\n      [disabled]=\"!supportRequestForm.form.valid || loading\" type=\"submit\"\n      class=\"flex w-full items-center justify-center text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800\">\n      Submit</button>\n  </div>\n\n</form>\n\n\n<ng-template #requestSuccess>\n  <div id=\"alert-additional-content-3\" class=\"p-4 mb-4 text-green-800 border border-green-300 rounded-lg bg-green-50 dark:bg-gray-800 dark:text-green-400 dark:border-green-800\" role=\"alert\">\n    <div class=\"flex items-center\">\n      <svg class=\"flex-shrink-0 w-4 h-4 me-2\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n        <path d=\"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z\"/>\n      </svg>\n      <span class=\"sr-only\">Success!</span>\n      <h3 class=\"text-lg font-medium\">Success!</h3>\n    </div>\n    <div class=\"mt-2 mb-4 text-sm\">\n      Thanks for providing information about your Health System. Your request has been recorded and we will notify you once your Health System is supported.\n    </div>\n    <div class=\"flex\">\n      <button (click)=\"dismiss()\" type=\"button\" class=\"text-green-800 bg-transparent border border-green-800 hover:bg-green-900 hover:text-white focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-xs px-3 py-1.5 text-center dark:hover:bg-green-600 dark:border-green-600 dark:text-green-400 dark:hover:text-white dark:focus:ring-green-800\" data-dismiss-target=\"#alert-additional-content-3\" aria-label=\"Close\">\n        Dismiss\n      </button>\n    </div>\n  </div>\n\n</ng-template>\n","import {ChangeDetectorRef, Component, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'app-form-support-request',\n  templateUrl: './form-support-request.component.html',\n  styleUrls: ['./../../fasten-stitch/fasten-stitch.component.css'],\n})\nexport class FormSupportRequestComponent implements OnInit {\n\n  constructor(\n    public changeRef: ChangeDetectorRef,\n  ) { }\n\n  ngOnInit(): void {\n  }\n\n  markForCheck(){\n    this.changeRef.markForCheck()\n  }\n\n}\n","<p>form-support-request works!</p>\n","import {ChangeDetectorRef, Component, Input, OnInit, ViewEncapsulation} from '@angular/core';\nimport {LighthouseBrandListDisplayItem} from '../../models/lighthouse/lighthouse-source-search';\nimport {ApiMode, ComponentNavPage, ConnectMode} from '../../constants';\nimport {LighthouseSourceMetadata} from '../../models/lighthouse/lighthouse-source-metadata';\nimport {Organization} from '../../models/organization';\nimport {ConnectService} from '../../services/connect.service';\nimport {MessageBusService} from '../../services/message-bus.service';\nimport {ComponentNavigationEvent} from '../../models/component-navigation-event';\nimport {ConnectHelper} from '../../utils/connect-helper';\n\n@Component({\n  selector: 'app-portal-connect',\n  templateUrl: './portal-connect.component.html',\n  styleUrls: ['./../../fasten-stitch/fasten-stitch.component.css'],\n  // encapsulation: ViewEncapsulation.Emulated\n})\nexport class PortalConnectComponent implements OnInit {\n\n  @Input() brand!: LighthouseBrandListDisplayItem;\n  @Input() apiMode: ApiMode = ApiMode.Test;\n  @Input() org!: Organization\n  @Input() publicId!: string\n\n  @Input() connectMode: ConnectMode = ConnectMode.Redirect;\n  @Input() reconnectOrgConnectionId: string | null = null;\n  @Input() externalId: string | null = null; //optional opaque id to pass to the callback\n  @Input() externalState: string | null = null; //optional opaque state to pass to the callback\n\n  @Input() popupTimeout: number | null = null; //optional popup timeout in minutes\n\n\n  constructor(\n    public changeRef: ChangeDetectorRef,\n    public connectApi: ConnectService,\n    public messageBus: MessageBusService,\n  ) { }\n\n  ngOnInit(): void {\n  }\n  markForCheck(){\n    this.changeRef.markForCheck()\n  }\n\n  public connectHandler($event, brandId: string, portalId: string, endpointId: string): void {\n    ($event.currentTarget as HTMLButtonElement).disabled = true;\n\n    ConnectHelper(this.connectApi, this.messageBus, {\n      public_id: this.publicId,\n      catalog_brand_id: brandId,\n      catalog_portal_id: portalId,\n      catalog_endpoint_id: endpointId,\n      org_connection_id: this.reconnectOrgConnectionId,\n      external_id: this.externalId,\n      external_state: this.externalState,\n      connect_mode: this.connectMode,\n      popup_timeout_mins: this.popupTimeout,\n    })\n\n\n    // this.connectApi.connectWithRedirect(this.publicId, brandId, portalId, endpointId, this.reconnectOrgConnection?.id, this.connectMode, this.externalId).subscribe((orgConnectionCallbackData) => {\n    //   console.log(orgConnectionCallbackData)\n    //\n    //   if(!orgConnectionCallbackData){\n    //     return //wait for redirect\n    //   }\n    //\n    //   //Note: this code will only run when this.connectMode == popup\n    //   //when connectMode == 'redirect', the user is redirected in the same window, and this code is never executed.\n    //\n    //   this.messageBus.orgConnectionCallbackSubject.next(orgConnectionCallbackData)\n    //\n    //   //redirect the browser back to the search page (TODO: this should show the support request page if an error occurred)\n    //   this.messageBus.componentNavigationSubject.next({\n    //     page: ComponentNavPage.Search,\n    //   } as ComponentNavigationEvent)\n    // })\n  }\n}\n","\n<form action=\"#\">\n  <div class=\"grid gap-4 mb-4 sm:grid-cols-8\">\n\n    <div class=\"flex justify-between sm:col-span-6 sm:col-start-2\">\n      <div class=\"relative w-20 h-20 overflow-hidden bg-gray-100 rounded-full dark:bg-gray-600\">\n        <img class=\"w-20 max-h-20 inline-block align-middle\" imageFallback src=\"{{org?.logo_uri}}\">\n      </div>\n\n      <div class=\"flex items-center overflow-hidden bg-gray-100 rounded-full dark:bg-gray-600\">\n        <img class=\"w-20 h-20 p-1 rounded-full ring-2 ring-gray-300 dark:ring-gray-500\" src=\"https://cdn.fastenhealth.com/logos/sources/fasten.png\">\n      </div>\n\n\n      <div class=\"flex items-center overflow-hidden bg-gray-100 rounded-full dark:bg-gray-600\">\n        <img class=\"w-20 max-h-20 inline-block align-middle\" imageFallback src=\"https://cdn.fastenhealth.com/logos/sources/{{brand.id}}.png\">\n      </div>\n    </div>\n\n\n    <div class=\"sm:col-span-6 sm:col-start-2\">\n      <h3 class=\"text-lg font-light text-center text-gray-900 dark:text-white\">\n        {{org?.name}} uses <strong>Fasten Connect</strong> to link your medical records\n      </h3>\n\n      <ul class=\"text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white\">\n        <li class=\"w-full px-4 py-2 border-b border-gray-200 rounded-t-lg dark:border-gray-600\">\n          <div class=\"flex items-center space-x-4 rtl:space-x-reverse\">\n            <div class=\"flex-shrink-0\">\n              <svg class=\"w-6 h-6 text-gray-800 dark:text-white\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.5 11.5 11 13l4-3.5M12 20A16.4 16.4 0 0 1 5 6.7L12 4l7 2.7A16.7 16.7 0 0 1 12 20Z\"/>\n              </svg>\n            </div>\n            <div class=\"flex-1 min-w-0\">\n              <p class=\"text-sm font-light text-gray-900 dark:text-white\">\n                Fasten lets you securely connect your medical records in seconds\n              </p>\n\n            </div>\n          </div>\n        </li>\n        <li class=\"w-full px-4 py-2 border-b border-gray-200 dark:border-gray-600\">\n          <div class=\"flex items-center space-x-4 rtl:space-x-reverse\">\n            <div class=\"flex-shrink-0\">\n              <svg class=\"w-6 h-6 text-gray-800 dark:text-white\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 14v3m-3-6V7a3 3 0 1 1 6 0v4m-8 0h10c.6 0 1 .4 1 1v7c0 .6-.4 1-1 1H7a1 1 0 0 1-1-1v-7c0-.6.4-1 1-1Z\"/>\n              </svg>\n            </div>\n            <div class=\"flex-1 min-w-0\">\n              <p class=\"text-sm font-light text-gray-900 dark:text-white\">\n                Fasten doesn't sell your personal info, and will only use it with your permission.\n              </p>\n            </div>\n          </div>\n        </li>\n      </ul>\n    </div>\n\n    <div class=\"sm:col-span-8\">\n\n\n      <p class=\"text-sm font-light text-center text-gray-900 dark:text-white\">\n        Log into your patient portal account to connect your records from this health system.\n      </p>\n\n      <ul class=\"my-4 space-y-3\">\n        <ng-container *ngFor=\"let portal of brand?.portals\">\n          <li *ngFor=\"let endpoint of portal?.endpoints\">\n            <div (click)=\"loadingEndpoint.hidden = false; connectHandler($event, brand.id, portal.id, endpoint.id)\" class=\"grid cursor-pointer items-center p-3 text-base font-bold text-gray-900 rounded-lg border border-gray-500 bg-gray-50 hover:bg-gray-100 group hover:shadow dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white\">\n\n              <div class=\"row-auto flex\">\n                <div #loadingEndpoint hidden role=\"status\">\n                  <svg aria-hidden=\"true\" class=\"inline w-6 h-6 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600\" viewBox=\"0 0 100 101\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z\" fill=\"currentColor\"/>\n                    <path d=\"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z\" fill=\"currentFill\"/>\n                  </svg>\n                  <span class=\"sr-only\">Loading...</span>\n                </div>\n\n\n                <span class=\"flex-1 ms-3 whitespace-nowrap\">{{portal.name}}</span>\n                <span class=\"inline-flex items-center justify-center px-2 py-0.5 ms-3 text-xs font-medium text-gray-500 bg-gray-200 rounded dark:bg-gray-700 dark:text-gray-400\">{{endpoint.platform_type}}</span>\n\n              </div>\n              <span *ngIf=\"portal?.description\" class=\"row-auto flex-1 ms-3 text-xs font-light text-gray-500 dark:text-gray-400\">{{portal.description}}</span>\n            </div>\n          </li>\n\n        </ng-container>\n      </ul>\n    </div>\n\n  </div>\n  <div class=\"flex justify-end space-x-4\">\n    <p class=\"font-light text-xs\">Powered by <a class=\"underline\" target=\"_blank\" href=\"https://www.fastenhealth.com/connect\">Fasten Connect</a></p>\n  </div>\n</form>\n\n\n","export enum ApiMode {\n  Live = \"live\",\n  Test = \"test\",\n}\n\nexport enum ConnectionStatus {\n  Authorized = \"authorized\",\n  Revoked = \"revoked\"\n}\n\nexport enum ConnectMode {\n  Redirect = \"redirect\",\n  Popup = \"popup\",\n}\n\nexport enum ComponentNavPage {\n  Search = \"search\",\n  PortalConnect = \"portal_connect\",\n  FormSupportRequest = \"support_request\",\n  FormRequestHealthSystem = \"request_health_system\",\n}\n","import {Directive, ElementRef, HostListener, Input} from '@angular/core';\n\nconst DEFAULT_IMAGE_FALLBACK_PATH: string = 'https://cdn.fastenhealth.com/images/no-image.svg';\n\n@Directive({\n  selector: 'img[imageFallback]'\n})\nexport class ImageFallbackDirective {\n  @Input() imageFallback?: string;\n  constructor(private elementRef: ElementRef) {}\n\n  @HostListener('error')\n  loadFallbackOnError() {\n    // Check to see if we have already tried to load the fallback image.\n    // Avoids endless loop if for some reason fallback image is missing. Just accept the broken image.\n    if (this.path(this.elementRef.nativeElement.src) == this.path(this.fallbackSrc())) {\n      return;\n    }\n\n    this.elementRef.nativeElement.src = this.fallbackSrc();\n  }\n\n  private fallbackSrc(): string {\n    return this.imageFallback || DEFAULT_IMAGE_FALLBACK_PATH;\n  }\n\n  private path(urlString: string): string {\n    // remove http(s) and domain\n    return urlString.replace(/^https?:\\/\\/[^\\/]*/, '');\n  }\n\n}\n","import {\n  Component,\n  EventEmitter,\n  Input,\n  OnInit,\n  Output,\n  ViewEncapsulation,\n  AfterViewInit,\n} from '@angular/core';\nimport {initFlowbite, Modal} from 'flowbite';\nimport {LighthouseBrandListDisplayItem} from '../models/lighthouse/lighthouse-source-search';\nimport {ApiMode, ConnectMode} from '../constants';\nimport {Organization} from '../models/organization';\nimport {ConnectService} from '../services/connect.service';\nimport {MessageBusService} from '../services/message-bus.service';\nimport {OrganizationConnectionCallbackEvent} from '../models/organization-connection-callback-event';\nimport { ElementRef, ViewChild } from '@angular/core';\nimport {OrganizationConnection} from '../models/organization-connection';\nimport {ConnectHelper} from '../utils/connect-helper';\n\nexport class SourceListItem {\n  brand: LighthouseBrandListDisplayItem\n  searchHighlights?: string[]\n}\n\n\n@Component({\n  // standalone: true,\n  selector: 'fasten-stitch',\n  templateUrl: './fasten-stitch.component.html',\n  styleUrls: ['./fasten-stitch.component.css'],\n  // SEE https://stackoverflow.com/questions/67115155/angular-web-component-how-to-embed-css-file-into-the-final-js-file\n  // using view encapsulation to namespace CSS.\n  encapsulation: ViewEncapsulation.Emulated, //default is  ViewEncapsulation.Emulated\n  providers: [MessageBusService]\n})\nexport class FastenStitchComponent implements OnInit, AfterViewInit {\n  //NOTE: when adding fields here, we must also add them to the documentation\n  @Input('public-id') publicId = ''; //validate\n  @Input('connect-mode') connectMode: ConnectMode = ConnectMode.Redirect;\n  @Input('reconnect-org-connection-id') reconnectOrgConnectionId: string | null = null;\n  @Input('external-id') externalId: string | null = null; //optional opaque id to pass to the callback\n  @Input('external-state') externalState: string | null = null; //optional opaque state to pass to the callback\n\n  @Input('popup-timeout') popupTimeout: number = null; //optional timeout for popup mode, in minutes\n\n  @Output('orgConnectionCallback') orgConnectionCallback = new EventEmitter<OrganizationConnectionCallbackEvent>()\n\n  public apiMode: ApiMode = ApiMode.Test\n  public org: Organization | undefined\n\n  public errorMessage: string\n\n  @ViewChild('stitchModalButton', { static: false }) public stitchModalButton: ElementRef;\n  @ViewChild('stitchModal', { static: false }) public stitchModal: ElementRef;\n\n  private flowbitStitchModal: Modal = null\n  constructor(\n    private host: ElementRef,\n    private connectApi: ConnectService,\n    public messageBus: MessageBusService,\n  ) {\n\n    //https://stackoverflow.com/a/69173549/1157633\n    this.host.nativeElement.show = this.showStitchModalExt.bind(this);\n    this.host.nativeElement.hide = this.hideStitchModalExt.bind(this);\n  }\n\n  ngAfterViewInit() {\n    this.flowbitStitchModal = new Modal(this.stitchModal.nativeElement, {\n      onHide: () => {\n        this.messageBus.reset()\n      },\n    });\n  }\n\n  ngOnInit(): void {\n    initFlowbite();\n\n    let publicIdParts = this.publicId.split('_')\n    if(publicIdParts.length == 3 && publicIdParts[1] == ApiMode.Live) {\n      this.apiMode = ApiMode.Live\n    }\n    if(publicIdParts.length != 3){\n      console.error(\"Could not register Fasten Connect installation: missing or invalid id\", this.publicId)\n      this.errorMessage = 'Could not register Fasten Connect installation: missing or invalid id. Please contact the developer of this app.'\n      return\n    }\n    console.log(this.publicId, publicIdParts, this.apiMode)\n\n    this.connectApi.getOrgByPublicId(this.publicId).subscribe((org: Organization) => {\n      this.org = org\n    },(err) => {\n      this.errorMessage = 'Could not register Fasten Connect installation using id. Please contact the developer of this app.'\n      console.log(\"Invalid Fasten Connect registration\", err)\n    })\n\n    this.orgConnectionCallback.emit({\n      error: \"initializing-fasten-stitch\",\n    })\n\n    this.messageBus.orgConnectionCallbackSubject.subscribe((orgConnectionCallbackData) => {\n      if(!orgConnectionCallbackData) {\n        console.warn(\"filter empty orgConnectionCallbackData\")\n        return\n      }\n      console.log(\"bubbling up event\", orgConnectionCallbackData)\n      this.orgConnectionCallback.emit(orgConnectionCallbackData)\n    })\n  }\n\n  showStitchModal(): void {\n    if(this.reconnectOrgConnectionId){\n      const childSpan: HTMLElement = document.createElement('span');\n      childSpan.innerHTML = 'Reconnecting...';\n      (this.stitchModalButton.nativeElement as HTMLButtonElement).replaceChildren(childSpan); // Component needs to be added here\n\n      this.connectApi.getOrgConnectionById(this.publicId, this.reconnectOrgConnectionId).subscribe((orgConnection) => {\n        console.log(\"Reconnect Org Connection\", orgConnection)\n\n        ConnectHelper(this.connectApi, this.messageBus, {\n          catalog_brand_id: orgConnection.catalog_brand_id,\n          catalog_endpoint_id: orgConnection.catalog_endpoint_id,\n          catalog_portal_id: orgConnection.catalog_portal_id,\n          connect_mode: this.connectMode,\n          external_id: this.externalId,\n          external_state: this.externalState,\n          org_connection_id: orgConnection.org_connection_id,\n          public_id: this.publicId,\n          popup_timeout_mins: this.popupTimeout,\n        })\n\n      }, (err) => {\n        this.errorMessage = 'Could not find the patient connection using id. Please contact the developer of this app.'\n        console.log(\"Invalid Fasten Connect Connection ID\", err)\n        this.flowbitStitchModal.show()\n      })\n    } else {\n      this.flowbitStitchModal.show()\n    }\n  }\n\n  // TODO: this is required because when using the showStitchModal() method, the Search component is not being rendered correctly\n  // this function can be called externally to show the modal\n  showStitchModalExt(): void {\n    this.stitchModalButton.nativeElement.click()\n  }\n\n  hideStitchModalExt(): void {\n    this.flowbitStitchModal.hide()\n  }\n}\n","<!-- Modal toggle -->\n<button #stitchModalButton (click)=\"showStitchModal()\" class=\"block text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\" type=\"button\">\n  <div #ref><ng-content></ng-content></div>\n  <span *ngIf=\"!ref.hasChildNodes()\">\n    Share Records\n </span>\n</button>\n\n<!-- Main modal -->\n<div #stitchModal id=\"stitchModal\" tabindex=\"-1\" aria-hidden=\"true\" class=\"fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full\">\n  <div\n    *ngIf=\"!errorMessage; else errorMessagePanel\"\n    class=\"relative p-4 w-full max-w-2xl h-full md:h-auto\">\n    <!-- Modal content -->\n    <div class=\"relative p-4 bg-white rounded-lg shadow dark:bg-gray-800 sm:p-5\">\n      <!-- Modal header -->\n\n      <div class=\"flex justify-between items-center pb-4 mb-4 rounded-t border-b sm:mb-5 dark:border-gray-600\">\n        <h3 *ngIf=\"!(messageBus.componentNavigationSubject | async)?.title; else brandName\" class=\"text-lg font-semibold text-gray-900 dark:text-white\">\n          Select a Health System\n        </h3>\n\n        <ng-template #brandName>\n          <h3 class=\"text-lg font-semibold text-gray-900 dark:text-white\">\n            <button (click)=\"messageBus.componentNavigationSubject.next(null);\" type=\"button\" class=\"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white\">\n              <svg class=\"w-5 h-5 rtl:rotate-180\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18\" />\n              </svg>\n              <span class=\"sr-only\">Back</span>\n            </button>\n            {{(messageBus.componentNavigationSubject | async)?.title}}\n          </h3>\n\n        </ng-template>\n\n        <button\n          (click)=\"hideStitchModalExt()\"\n          type=\"button\" class=\"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white\" >\n          <svg aria-hidden=\"true\" class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clip-rule=\"evenodd\"></path></svg>\n          <span class=\"sr-only\">Close modal</span>\n        </button>\n      </div>\n      <!-- Modal body -->\n\n      <app-nav-outlet\n        [org]=\"org\"\n        [publicId]=\"publicId\"\n        [apiMode]=\"apiMode\"\n        [connectMode]=\"connectMode\"\n        [reconnectOrgConnectionId]=\"reconnectOrgConnectionId\"\n        [externalId]=\"externalId\"\n        [externalState]=\"externalState\"\n        [popupTimeout]=\"popupTimeout\"\n      ></app-nav-outlet>\n\n<!--      <app-brand-search *ngIf=\"!(messageBus.selectedBrandSubject | async); else portalConnect\" [apiMode]=\"apiMode\"></app-brand-search>-->\n<!--      <ng-template #portalConnect>-->\n<!--        <app-portal-connect-->\n<!--          [org]=\"org\"-->\n<!--          [publicId]=\"publicId\"-->\n<!--          [brand]=\"(messageBus.selectedBrandSubject | async)\"-->\n<!--          [apiMode]=\"apiMode\"-->\n<!--          [connectMode]=\"connectMode\"-->\n<!--          [reconnectOrgConnectionId]=\"reconnectOrgConnectionId\"-->\n<!--        ></app-portal-connect>-->\n<!--      </ng-template>-->\n    </div>\n  </div>\n</div>\n\n\n<ng-template #errorMessagePanel>\n\n  <div class=\"relative p-4 w-full max-w-2xl h-full md:h-auto\">\n    <div id=\"alert-additional-content-2\" class=\"p-4 mb-4 text-red-800 border border-red-300 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400 dark:border-red-800\" role=\"alert\">\n      <div class=\"flex items-center\">\n        <svg class=\"flex-shrink-0 w-4 h-4 me-2\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path fill-rule=\"evenodd\" d=\"M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm7.707-3.707a1 1 0 0 0-1.414 1.414L10.586 12l-2.293 2.293a1 1 0 1 0 1.414 1.414L12 13.414l2.293 2.293a1 1 0 0 0 1.414-1.414L13.414 12l2.293-2.293a1 1 0 0 0-1.414-1.414L12 10.586 9.707 8.293Z\" clip-rule=\"evenodd\"/>\n        </svg>\n\n        <span class=\"sr-only\">Error</span>\n        <h3 class=\"text-lg font-medium\">Configuration Error</h3>\n      </div>\n      <div class=\"mt-2 mb-4 text-sm\">\n        {{errorMessage}}\n      </div>\n      <div class=\"flex\">\n\n        <button (click)=\"hideStitchModalExt()\" type=\"button\"\n                class=\"text-red-800 bg-transparent border border-red-800 hover:bg-red-900 hover:text-white focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-xs px-3 py-1.5 text-center dark:hover:bg-red-600 dark:border-red-600 dark:text-red-500 dark:hover:text-white dark:focus:ring-red-800\">Close</button>\n      </div>\n    </div>\n  </div>\n</ng-template>\n","export class FormRequestHealthSystem {\n  name: string\n  email: string\n  website: string\n  street_address: string\n}\n","\nexport class SearchFilter {\n  //primary search terms (changes here should restart the search completely)\n  query: string = \"\"\n\n  //secondary search terms/facets (changes here should restart pagination)\n  platformTypes: string[] = [];\n  categories: string[] = [];\n  showHidden: boolean = false;\n\n  //pagination - this is the current page (changes here should be ignored)\n  searchAfter: string | string[] = '';\n\n  fields: string[] = []; //specify the fields to return. if null or empty list, return all.\n}\n","import {Component, Input, OnChanges, OnInit, SimpleChanges, ViewChild} from '@angular/core';\nimport {NavOutletDirective} from './nav-outlet.directive';\nimport {MessageBusService} from '../../services/message-bus.service';\nimport {ComponentNavigationEvent} from '../../models/component-navigation-event';\nimport {ApiMode, ComponentNavPage, ConnectMode} from '../../constants';\nimport {BrandSearchComponent} from '../../components/brand-search/brand-search.component';\nimport {PortalConnectComponent} from '../../components/portal-connect/portal-connect.component';\nimport {Organization} from '../../models/organization';\nimport {FormSupportRequestComponent} from '../../components/form-support-request/form-support-request.component';\nimport {\n  FormRequestHealthSystemComponent\n} from '../../components/form-request-health-system/form-request-health-system.component';\n\n@Component({\n  selector: 'app-nav-outlet',\n  templateUrl: './nav-outlet.component.html',\n  styleUrls: ['./nav-outlet.component.css']\n})\nexport class NavOutletComponent implements OnInit, OnChanges {\n  @Input() apiMode!: ApiMode;\n  @Input() org!: Organization;\n  @Input() publicId!: string\n  @Input() connectMode!: ConnectMode;\n  @Input() reconnectOrgConnectionId: string | null = null;\n  @Input() externalId: string | null = null; //optional opaque id to pass to the callback\n  @Input() externalState: string | null = null; //optional opaque state to pass to the callback\n  @Input() popupTimeout: number | null = null; //optional popup timeout in minutes\n\n  //location to dynamically load the resource list\n  @ViewChild(NavOutletDirective, {static: true}) navOutlet!: NavOutletDirective;\n\n  constructor(private messageBus: MessageBusService) { }\n\n  ngOnInit(): void {\n    this.loadComponent()\n\n    this.messageBus.componentNavigationSubject.subscribe((componentNavEvent) => {\n      console.log(\"bubbling up event\", componentNavEvent)\n      this.loadComponent(componentNavEvent)\n    })\n  }\n  ngOnChanges(changes: SimpleChanges) {\n    this.loadComponent()\n  }\n\n  loadComponent(componentNavEvent?: ComponentNavigationEvent) {\n    //clear the current outlet\n    const viewContainerRef = this.navOutlet.viewContainerRef;\n    viewContainerRef.clear();\n\n    let page = componentNavEvent?.page || ComponentNavPage.Search\n\n    if(page == ComponentNavPage.Search){\n      const componentRef = viewContainerRef.createComponent(BrandSearchComponent);\n      componentRef.instance.apiMode = this.apiMode;\n\n      componentRef.instance.markForCheck()\n    } else if(page == ComponentNavPage.PortalConnect) {\n      const componentRef = viewContainerRef.createComponent(PortalConnectComponent);\n      componentRef.instance.apiMode = this.apiMode;\n      componentRef.instance.org = this.org;\n      componentRef.instance.publicId = this.publicId;\n      componentRef.instance.connectMode = this.connectMode;\n      componentRef.instance.reconnectOrgConnectionId = this.reconnectOrgConnectionId;\n      componentRef.instance.externalId = this.externalId;\n      componentRef.instance.externalState = this.externalState;\n      componentRef.instance.popupTimeout = this.popupTimeout;\n\n      componentRef.instance.brand = componentNavEvent.data;\n      componentRef.instance.markForCheck()\n    } else if(page == ComponentNavPage.FormSupportRequest){\n      const componentRef = viewContainerRef.createComponent(FormSupportRequestComponent);\n      componentRef.instance.markForCheck()\n    } else if(page == ComponentNavPage.FormRequestHealthSystem){\n      const componentRef = viewContainerRef.createComponent(FormRequestHealthSystemComponent);\n      componentRef.instance.healthSystemName = componentNavEvent.data\n      componentRef.instance.markForCheck()\n    }\n  }\n}\n","<ng-template navOutletDirective></ng-template>\n","import {Directive, ViewContainerRef} from '@angular/core';\n\n@Directive({\n  selector: '[navOutletDirective]'\n})\nexport class NavOutletDirective {\n\n  constructor(public viewContainerRef: ViewContainerRef) { }\n\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {catchError, concatMap, filter, first, fromEvent, map, Observable, of, throwError, timeout} from 'rxjs';\nimport {ResponseWrapper} from '../models/response-wrapper';\nimport {environment} from '../../environments/environment';\nimport {Organization} from '../models/organization';\nimport {ApiMode, ConnectMode} from '../constants';\nimport {OrganizationConnectionCallbackEvent} from '../models/organization-connection-callback-event';\nimport {SearchFilter} from '../models/search-filter';\nimport {LighthouseSourceSearch} from '../models/lighthouse/lighthouse-source-search';\nimport {FormSupportRequest} from '../models/forms/form-support-request';\nimport {FormRequestHealthSystem} from '../models/forms/form-request-health-system';\nimport {OrganizationConnection} from '../models/organization-connection';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ConnectService {\n\n  constructor(\n    private _httpClient: HttpClient,\n  ) { }\n\n  public getOrgByPublicId(publicId: String): Observable<Organization> {\n    let queryParams = {}\n    queryParams['public_id'] = publicId\n\n    return this._httpClient.get<ResponseWrapper>(\n      `${environment.connect_api_endpoint_base}/bridge/org`, {params: queryParams})\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Organization\", response)\n          return response.data as Organization;\n        })\n      );\n  }\n\n  public getOrgConnectionById(publicId: String, orgConnectionId: String): Observable<OrganizationConnection> {\n    let queryParams = {}\n    queryParams['public_id'] = publicId\n    return this._httpClient.get<ResponseWrapper>(\n      `${environment.connect_api_endpoint_base}/bridge/org_connection/${orgConnectionId}`, {params: queryParams})\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Organization Connection Data\", response)\n          return response.data as OrganizationConnection;\n        })\n      );\n  }\n\n  public searchCatalogBrands(apiMode: ApiMode, filter: SearchFilter): Observable<LighthouseSourceSearch> {\n    if((typeof filter.searchAfter === 'string' || filter.searchAfter instanceof String) && (filter.searchAfter as string).length > 0){\n      filter.searchAfter = (filter.searchAfter as string).split(',')\n    } else {\n      filter.searchAfter = []\n    }\n    const endpointUrl = new URL(`${environment.connect_api_endpoint_base}/bridge/catalog/search`);\n\n    return this._httpClient.post<ResponseWrapper>(endpointUrl.toString(), filter, {params: {\n        'api_mode': apiMode\n      }})\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Metadata RESPONSE\", response)\n          return response.data as LighthouseSourceSearch\n        })\n      );\n  }\n\n  supportRequest(request: FormSupportRequest): Observable<any> {\n    const endpointUrl = new URL(`${environment.connect_api_endpoint_base}/support/request`);\n\n    return this._httpClient.post<any>(endpointUrl.toString(), request)\n      .pipe(\n        map((response: ResponseWrapper) => {\n          // @ts-ignore\n          return {}\n        })\n      );\n  }\n\n  requestHealthSystem(requestHealth: FormRequestHealthSystem): Observable<any> {\n    const endpointUrl = new URL(`${environment.connect_api_endpoint_base}/support/healthsystem`);\n\n    return this._httpClient.post<any>(endpointUrl.toString(), requestHealth)\n      .pipe(\n        map((response: ResponseWrapper) => {\n          // @ts-ignore\n          return {}\n        })\n      );\n  }\n\n  public connectWithRedirect(publicId: string, brandId: string, portalId: string, endpointId: string, reconnectOrgConnectionId?: string, connectMode?: ConnectMode, externalId?: string, externalState?: string, popupTimeoutMins?: number): Observable<OrganizationConnectionCallbackEvent> {\n    const redirectUrlParts = new URL(`${environment.connect_api_endpoint_base}/bridge/connect`);\n    const redirectParams = new URLSearchParams()\n    redirectParams.set(\"public_id\", publicId)\n    redirectParams.set(\"brand_id\", brandId)\n    redirectParams.set(\"portal_id\", portalId)\n    redirectParams.set(\"endpoint_id\", endpointId)\n    if (reconnectOrgConnectionId) {\n      redirectParams.set(\"reconnect_org_connection_id\", reconnectOrgConnectionId)\n    }\n    if (connectMode) {\n      redirectParams.set(\"connect_mode\", connectMode)\n    }\n    if (externalId) {\n      redirectParams.set(\"external_id\", externalId)\n    }\n    if (externalState) {\n      redirectParams.set(\"external_state\", externalState)\n    }\n\n    redirectUrlParts.search = redirectParams.toString()\n    console.log(redirectUrlParts.toString());\n\n\n    //if we're in popup mode, we can open a new window, rather than redirecting the current window (which is an app frame)\n    if(connectMode == ConnectMode.Popup) {\n\n      //open a external url in a new window\n      let openedWindow = window.open(redirectUrlParts.toString(), \"_blank\");\n\n      if (!popupTimeoutMins) {\n        popupTimeoutMins = 30 //wait 30 mins max before closing the window\n      }\n\n      return this.waitForOrgConnectionOrTimeout(openedWindow, popupTimeoutMins)\n    }\n    else {\n      //redirect to the url in the same window\n      window.location.href = redirectUrlParts.toString();\n      return of(null) //should never happen\n    }\n  }\n\n\n  //This function must be \".subscribed()\" to work. If not, the handler will not be registered and messages will be ignored.\n  private waitForOrgConnectionOrTimeout(openedWindow: Window, popupTimeoutMins: number): Observable<OrganizationConnectionCallbackEvent> {\n    console.log(`waiting for postMessage notification from popup window`, popupTimeoutMins)\n\n    //new code to listen to post message\n    return fromEvent(window, 'message')\n      .pipe(\n        //throw an error if we wait more than 2 minutes (this will close the window)\n        timeout(popupTimeoutMins * 60*1000), //popup timeout (mins) * 60 seconds * 1000 ms\n        //make sure we're only listening to events from the \"opened\" window.\n        filter((event: MessageEvent) => event.source == openedWindow),\n        //after filtering, we should only have one event to handle.\n        first(),\n        map((event) => {\n          console.log(`received postMessage notification from popup window & sending acknowledgment`)\n          // @ts-ignore\n          event.source.postMessage(JSON.stringify({close:true}), event.origin);\n          console.log(\"postmessage data\", event.data)\n          return JSON.parse(event.data) as OrganizationConnectionCallbackEvent\n        }),\n        catchError((err) => {\n          console.warn(`timed out waiting for notification from popup (${popupTimeoutMins} mins), closing window`)\n          openedWindow.self.close()\n          return throwError(err)\n        })\n      )\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport {BehaviorSubject} from 'rxjs';\nimport {LighthouseBrandListDisplayItem} from '../models/lighthouse/lighthouse-source-search';\nimport {OrganizationConnectionCallbackEvent} from '../models/organization-connection-callback-event';\nimport {ComponentNavigationEvent} from '../models/component-navigation-event';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MessageBusService {\n\n  //this subject is populated when in popup mode, and a Portal/Endpoint has been selected.\n  // A separate window will be opened, and credentials & metadata from that connection will be passed to this callback fn.\n  // SEE: https://docs.connect.fastenhealth.com/stitch/webcomponent for example data structure.\n  // {\n  //   \"org_connection_id\": \"1234-1234-1234-1234-1234\",\n  //   \"endpoint_id\": \"1234-1234-1234-1234-1234\"\n  // }\n  public orgConnectionCallbackSubject = new BehaviorSubject<OrganizationConnectionCallbackEvent | null>(null)\n\n  // this subject is populated when the \"page\" is changed\n  public componentNavigationSubject = new BehaviorSubject<ComponentNavigationEvent | null>(null)\n\n  constructor() { }\n\n  reset(){\n    this.componentNavigationSubject.next(null)\n  }\n}\n","import {ComponentNavPage, ConnectMode} from '../constants';\nimport {ComponentNavigationEvent} from '../models/component-navigation-event';\nimport {ConnectService} from '../services/connect.service';\nimport {MessageBusService} from '../services/message-bus.service';\nimport {Observable} from 'rxjs';\n\nexport interface ConnectData {\n  public_id: string;\n  catalog_brand_id: string;\n  catalog_portal_id: string;\n  catalog_endpoint_id: string;\n\n\n  //only populated when reconnect_org_connection is present\n  org_connection_id?: string;\n  external_id?: string\n  external_state?: string\n  connect_mode?: ConnectMode\n  popup_timeout_mins?: number\n}\n\nexport function ConnectHelper(connectApi:ConnectService, messageBus: MessageBusService, connectData: ConnectData): void {\n  connectApi.connectWithRedirect(connectData.public_id, connectData.catalog_brand_id, connectData.catalog_portal_id, connectData.catalog_endpoint_id, connectData.org_connection_id, connectData.connect_mode, connectData.external_id, connectData.external_state, connectData.popup_timeout_mins).subscribe((orgConnectionCallbackData) => {\n    console.log(orgConnectionCallbackData)\n\n    if(!orgConnectionCallbackData){\n      return //wait for redirect\n    }\n\n    //Note: this code will only run when this.connectMode == popup\n    //when connectMode == 'redirect', the user is redirected in the same window, and this code is never executed.\n\n    messageBus.orgConnectionCallbackSubject.next(orgConnectionCallbackData)\n\n    //redirect the browser back to the search page (TODO: this should show the support request page if an error occurred)\n    messageBus.componentNavigationSubject.next({\n      page: ComponentNavPage.Search,\n    } as ComponentNavigationEvent)\n  })\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  name: \"development\",\n\n  //specify the lighthouse base that we're going to use to authenticate against all our source/providers. Must not have trailing slash\n  lighthouse_api_endpoint_base: 'https://lighthouse.fastenhealth.com',\n\n  //used to specify the api server that we're going to use (can be relative or absolute). Must not have trailing slash\n  // connect_api_endpoint_base: 'https://api.connect-dev.fastenhealth.com/v1',\n  // if relative, must start with /\n  connect_api_endpoint_base: 'https://api.connect-dev.fastenhealth.com/v1',\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.name == \"production\") {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"names":["EventEmitter","initFlowbite","Modal","ApiMode","ConnectMode","MessageBusService","ElementRef","ConnectHelper","i0","elementStart","text","elementEnd","listener","FastenStitchComponent_div_8_ng_template_5_Template_button_click_1_listener","restoreView","_r11","ctx_r10","nextContext","resetView","messageBus","componentNavigationSubject","next","namespaceSVG","element","namespaceHTML","advance","textInterpolate1","tmp_0_0","pipeBind1","ctx_r9","title","template","FastenStitchComponent_div_8_h3_3_Template","FastenStitchComponent_div_8_ng_template_5_Template","templateRefExtractor","FastenStitchComponent_div_8_Template_button_click_7_listener","_r13","ctx_r12","hideStitchModalExt","property","ctx_r4","_r8","org","publicId","apiMode","connectMode","reconnectOrgConnectionId","externalId","externalState","popupTimeout","FastenStitchComponent_ng_template_9_Template_button_click_12_listener","_r15","ctx_r14","ctx_r6","errorMessage","SourceListItem","FastenStitchComponent","constructor","host","connectApi","Redirect","orgConnectionCallback","Test","flowbitStitchModal","nativeElement","show","showStitchModalExt","bind","hide","ngAfterViewInit","stitchModal","onHide","reset","ngOnInit","publicIdParts","split","length","Live","console","error","log","getOrgByPublicId","subscribe","err","emit","orgConnectionCallbackSubject","orgConnectionCallbackData","warn","showStitchModal","childSpan","document","createElement","innerHTML","stitchModalButton","replaceChildren","getOrgConnectionById","orgConnection","catalog_brand_id","catalog_endpoint_id","catalog_portal_id","connect_mode","external_id","external_state","org_connection_id","public_id","popup_timeout_mins","click","directiveInject","i1","ConnectService","i2","selectors","viewQuery","FastenStitchComponent_Query","rf","ctx","ngContentSelectors","_c2","decls","vars","consts","template","FastenStitchComponent_Template","FastenStitchComponent_Template_button_click_0_listener","projection","FastenStitchComponent_span_5_Template","FastenStitchComponent_div_8_Template","FastenStitchComponent_ng_template_9_Template","_r1","hasChildNodes","_r5"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}